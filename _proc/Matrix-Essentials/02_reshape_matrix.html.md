---
description: Python Function that computes the Reshaping of a matrix
output-file: reshape_matrix.html
title: Reshape of a Matrix

---



<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! -->

## Algorithm Explanation

the line of code would flatten the matrix of size m by n => which would have a size m*n 
```python
flat = np.array(a).flatten()
```

The below line of code is a list comprehension, and we are picking blocks of cols <br>
let's say cols = 10<br>
i.e from <br>
[0, 10] <br>
[10, 20] <br>
```python
reshaped_matrix = [
        flat[i * new_shape[1] : (i + 1) * new_shape[1]].tolist()
        for i in range(new_shape[0])
    ]
```

---

[source](https://github.com/teja00/BuildingBlocks/blob/main/BuildingBlocks/reshape_matrix.py#L13){target="_blank" style="float:right; font-size:smaller"}

### reshape_matrix

>      reshape_matrix (a:List[List[Union[int,float]]], new_shape:tuple)

|    | **Type** | **Details** |
| -- | -------- | ----------- |
| a | typing.List[typing.List[typing.Union[int, float]]] | matrix a of size (m, n) of int or float |
| new_shape | tuple | new shape tuple to reshape into (a, b) |
| **Returns** | **list** | **output matrix of shape (a, b)** |


::: {#cell-4 .cell}
``` {.python .cell-code code-fold="show" code-summary="Exported source"}
def reshape_matrix( a: List[List[Union[int, float]]], # matrix a of size (m, n) of int or float
                    new_shape: tuple[int, int] # new shape tuple to reshape into (a, b)
                    ) -> list[list[Union[int,float]]]: # output matrix of shape (a, b)
    flat = np.array(a).flatten()

    # Validate the reshape is possible
    if len(flat) != new_shape[0] * new_shape[1]:
        return []

    # Manually reshape using slicing
    reshaped_matrix = [
        flat[i * new_shape[1] : (i + 1) * new_shape[1]].tolist()
        for i in range(new_shape[0])
    ]

    return reshaped_matrix
```
:::


