---
description: a quick handle to visualize the DP array to better understanding
output-file: visbruteforce.html
title: Visualizing DP array

---



<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! -->

---

[source](https://github.com/teja00/BuildingBlocks/blob/main/BuildingBlocks/visualization_dp.py#L21){target="_blank" style="float:right; font-size:smaller"}

### visualize_dp_history

>      visualize_dp_history
>                            (dp_history:Union[List[Any],List[List[Any]],List[Li
>                            st[List[Any]]]])

*returns a widget to visualize the history of a dynamic programming table.*

|    | **Type** | **Details** |
| -- | -------- | ----------- |
| dp_history | typing.Union[typing.List[typing.Any], typing.List[typing.List[typing.Any]], typing.List[typing.List[typing.List[typing.Any]]]] | a list of lists with any type is acceptable |


::: {#f1cf14b4 .cell}
``` {.python .cell-code code-fold="show" code-summary="Exported source"}
DPType = Union[
    List[Any],
    List[List[Any]],
    List[List[List[Any]]]
]

def visualize_dp_history(dp_history : DPType,  # a list of lists with any type is acceptable
                         ): # -> None:
    """
    returns a widget to visualize the history of a dynamic programming table.
    """

    # State index tracker
    state_index = widgets.IntText(value=0, description="Index:", disabled=True)

    # Output widget
    output = widgets.Output()

    # Display function
    def update_display():
        with output:
            clear_output(wait=True)
            i = state_index.value
            print(f"Step {i}:")
            if isinstance(dp_history[i], list) and all(isinstance(row, list) for row in dp_history[i]):
                print("DP Table:")
                for row in dp_history[i]:
                    print(row)
            else:
                print("DP Table:")
                print(dp_history[i])

    # Buttons
    prev_button = widgets.Button(description="Previous")
    next_button = widgets.Button(description="Next")

    # Button callbacks
    def on_prev_click(b):
        if state_index.value > 0:
            state_index.value -= 1
            update_display()

    def on_next_click(b):
        if state_index.value < len(dp_history) - 1:
            state_index.value += 1
            update_display()

    # Attach callbacks
    prev_button.on_click(on_prev_click)
    next_button.on_click(on_next_click)

    # Initial display
    update_display()

    # Layout
    controls = widgets.HBox([prev_button, next_button])
    display(controls, output)
```
:::


## How to Use

The [`visualize_dp_history`](https://teja00.github.io/BuildingBlocks/DpVisualization/visbruteforce.html#visualize_dp_history) function creates an interactive widget to explore the evolution of a dynamic programming table (`dp`) over time. It is especially useful when you store snapshots of the DP table after each update and want to visualize how the table evolves.

### Step-by-Step Example

```python
import copy
from typing import List, Tuple

def countSubstrings(s: str) -> Tuple[int, List[List[List[bool]]]]:
    n, res = len(s), 0
    history = []
    dp = [[False] * n for _ in range(n)]
    history.append(copy.deepcopy(dp))  # Initial state

    for i in range(n - 1, -1, -1):
        for j in range(i, n):
            if s[i] == s[j] and (j - i <= 2 or dp[i + 1][j - 1]):
                dp[i][j] = True
                res += 1
                history.append(copy.deepcopy(dp))  # Save snapshot

    return res, history
```

### Visualize the DP History

After computing the DP history using a function like `countSubstrings`, you can visualize it with:

```python
res, dp_history = countSubstrings("abc")
visualize_dp_history(dp_history)
```

This will create:

* A display of the DP table at each recorded step
* `Previous` and `Next` buttons to navigate through the snapshots
* Step index shown for reference

> The widget automatically adapts to 1D, 2D, or 3D list structures, making it flexible for various types of DP tracking.

::: {#b4a9be9f .cell}
``` {.python .cell-code}
_, dp_history = countSubstrings("abc")
visualize_dp_history(dp_history)
```

::: {.cell-output .cell-output-display}

```{=html}
<script type="application/vnd.jupyter.widget-view+json">
{"model_id":"b187d1d18d6f4abcbd22f76f0667526d","version_major":2,"version_minor":0,"quarto_mimetype":"application/vnd.jupyter.widget-view+json"}
</script>
```

:::

::: {.cell-output .cell-output-display}

```{=html}
<script type="application/vnd.jupyter.widget-view+json">
{"model_id":"cd2b7826921c45cca8a6cf44e93d4f67","version_major":2,"version_minor":0,"quarto_mimetype":"application/vnd.jupyter.widget-view+json"}
</script>
```

:::
:::


