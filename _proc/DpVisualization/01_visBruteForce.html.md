---
description: a quick handle to visualize the DP array to better understanding
output-file: visbruteforce.html
title: Visualizing DP array

---



<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! -->

## TODO 

1. I want to create a modular function which automatically detects the dp history array and extra variables and outputs that for easy visualization no matter what DP array code 

---

[source](https://github.com/teja00/BuildingBlocks/blob/main/BuildingBlocks/visualization_dp.py#L23){target="_blank" style="float:right; font-size:smaller"}

### visualize_dp_history

>      visualize_dp_history
>                            (dp_history:Union[List[Any],List[List[Any]],List[Li
>                            st[List[Any]]]],
>                            extra_vars:Optional[List[Any]]=None)

*Returns a widget to visualize the history of a dynamic programming table.

Parameters:
- dp_history: A list of DP states (can be 1D, 2D, or 3D).
- extra_vars: (Optional) A list of any extra info (e.g., (i, j) or dicts) to show per step.*

|    | **Type** | **Default** | **Details** |
| -- | -------- | ----------- | ----------- |
| dp_history | typing.Union[typing.List[typing.Any], typing.List[typing.List[typing.Any]], typing.List[typing.List[typing.List[typing.Any]]]] |  | List of DP states (various levels) |
| extra_vars | typing.Optional[typing.List[typing.Any]] | None | Optional extra variable tracking |


::: {#f1cf14b4 .cell}
``` {.python .cell-code code-fold="show" code-summary="Exported source"}
from typing import Union, List, Any, Optional

DPType = Union[
    List[Any],
    List[List[Any]],
    List[List[List[Any]]]
]

def visualize_dp_history(
    dp_history: DPType,                 # List of DP states (various levels)
    extra_vars: Optional[List[Any]] = None  # Optional extra variable tracking
): 
    """
    Returns a widget to visualize the history of a dynamic programming table.
    
    Parameters:
    - dp_history: A list of DP states (can be 1D, 2D, or 3D).
    - extra_vars: (Optional) A list of any extra info (e.g., (i, j) or dicts) to show per step.
    """

    state_index = widgets.IntText(value=0, description="Index:", disabled=True)
    output = widgets.Output()

    def update_display():
        with output:
            clear_output(wait=True)
            i = state_index.value
            print(f"Step {i}:")

            # Display extra vars if provided
            if extra_vars is not None and i < len(extra_vars):
                print(f"Extra: {repr(extra_vars[i])}")

            # Display DP Table
            state = dp_history[i]
            print("DP Table:")
            if isinstance(state, list) and all(isinstance(row, list) for row in state):
                for row in state:
                    print(row)
            else:
                print(state)

    # Buttons
    prev_button = widgets.Button(description="Previous")
    next_button = widgets.Button(description="Next")

    # Button callbacks
    def on_prev_click(b):
        if state_index.value > 0:
            state_index.value -= 1
            update_display()

    def on_next_click(b):
        if state_index.value < len(dp_history) - 1:
            state_index.value += 1
            update_display()

    # Attach callbacks
    prev_button.on_click(on_prev_click)
    next_button.on_click(on_next_click)

    # Initial display
    update_display()

    # Layout
    controls = widgets.HBox([prev_button, next_button])
    display(controls, output)
```
:::


## How to Use

The [`visualize_dp_history`](https://teja00.github.io/BuildingBlocks/DpVisualization/visbruteforce.html#visualize_dp_history) function creates an interactive widget to explore the evolution of a dynamic programming table (`dp`) over time. It is especially useful when you store snapshots of the DP table after each update and want to visualize how the table evolves.

### Step-by-Step Example

```python
import copy
from typing import List, Tuple

def countSubstrings(s: str) -> Tuple[int, List[List[List[bool]]]]:
    n, res = len(s), 0
    history = []
    dp = [[False] * n for _ in range(n)]
    history.append(copy.deepcopy(dp))  # Initial state

    for i in range(n - 1, -1, -1):
        for j in range(i, n):
            if s[i] == s[j] and (j - i <= 2 or dp[i + 1][j - 1]):
                dp[i][j] = True
                res += 1
                history.append(copy.deepcopy(dp))  # Save snapshot

    return res, history
```

### Visualize the DP History

After computing the DP history using a function like `countSubstrings`, you can visualize it with:

```python
res, dp_history = countSubstrings("abc")
visualize_dp_history(dp_history)
```

This will create:

* A display of the DP table at each recorded step
* `Previous` and `Next` buttons to navigate through the snapshots
* Step index shown for reference

> The widget automatically adapts to 1D, 2D, or 3D list structures, making it flexible for various types of DP tracking.

